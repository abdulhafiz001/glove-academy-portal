import{u as w,a as _,r as m,j as e,C as a,f as i}from"./app-17JNjqSJ.js";import{A as d}from"./AdminLayout-DXkI0PI6.js";import{U as n}from"./user-CAmUnVMn.js";import{A as k}from"./arrow-left-DS4rNrD0.js";import{F as C}from"./file-text-Znh3F_nC.js";import{S as $}from"./square-pen-Bg_diimZ.js";import{G as N}from"./graduation-cap-mrkAgQ1z.js";import{M as u}from"./mail-Bgl57yVY.js";import{P as y}from"./phone-CsahMqDW.js";import{M as A,U as S}from"./user-check-Bk_b1vVU.js";import{B as c}from"./book-open-D3qBa7nK.js";import{U as P}from"./users-BUbPeWYP.js";import"./calendar-BfCctGZ3.js";import"./log-out-Bc-nJCmd.js";import"./menu-BL5-W5Xp.js";const H=({student:r})=>{var o,h,f;const{showError:U}=w(),{user:t}=_(),[s,p]=m.useState(r||null),[v,b]=m.useState(!r);if(m.useEffect(()=>{r&&(p(r),b(!1))},[r]),v)return e.jsx(d,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:a.primary.red}})})});if(!s)return e.jsx(d,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(n,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Student not found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The student you're looking for doesn't exist."})]})});const l=`${s.first_name||""} ${s.middle_name||""} ${s.last_name||""}`.trim(),x=s.date_of_birth?new Date().getFullYear()-new Date(s.date_of_birth).getFullYear():null;return e.jsx(d,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>i.visit("/admin/students"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(k,{className:"h-5 w-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Student Details"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"View comprehensive student information"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>{(t==null?void 0:t.role)==="admin"?i.visit(`/admin/students/${s.id}/results`):(t==null?void 0:t.role)==="teacher"&&i.visit(`/teacher/student-results/${s.id}`)},className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"View Results"]}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="teacher"&&(t==null?void 0:t.is_form_teacher))&&e.jsxs("button",{onClick:()=>{i.visit(`/admin/students?edit=${s.id}`)},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white shadow-sm hover:shadow-lg transition-all",style:{backgroundColor:a.primary.red},children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Edit Student"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"h-32 bg-gradient-to-r",style:{background:`linear-gradient(to right, ${a.primary.red}, ${a.primary.blue})`}}),e.jsx("div",{className:"px-6 pb-6 -mt-16",children:e.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-end justify-between gap-4",children:e.jsxs("div",{className:"flex items-end space-x-4",children:[e.jsx("div",{className:"w-24 h-24 bg-white rounded-full border-4 border-white shadow-lg flex items-center justify-center",children:s.avatar?e.jsx("img",{src:s.avatar,alt:l,className:"w-full h-full rounded-full object-cover"}):e.jsx(n,{className:"w-12 h-12 text-gray-400"})}),e.jsxs("div",{className:"pb-2",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:l}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.admission_number}),s.school_class&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mt-2",style:{backgroundColor:`${a.primary.red}20`,color:a.primary.red},children:[e.jsx(N,{className:"mr-1 h-4 w-4"}),s.school_class.name]})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(n,{className:"mr-2 h-5 w-5",style:{color:a.primary.red}}),"Personal Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-32 text-sm font-medium text-gray-500",children:"Full Name:"}),e.jsx("div",{className:"text-sm text-gray-900",children:l})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-32 text-sm font-medium text-gray-500",children:"Admission Number:"}),e.jsx("div",{className:"text-sm text-gray-900 font-mono",children:s.admission_number})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-32 text-sm font-medium text-gray-500",children:"Gender:"}),e.jsx("div",{className:"text-sm text-gray-900 capitalize",children:s.gender||"Not specified"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-32 text-sm font-medium text-gray-500",children:"Date of Birth:"}),e.jsxs("div",{className:"text-sm text-gray-900",children:[s.date_of_birth?new Date(s.date_of_birth).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Not specified",x&&` (${x} years old)`]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-32 text-sm font-medium text-gray-500",children:"Email:"}),e.jsxs("div",{className:"text-sm text-gray-900 flex items-center",children:[e.jsx(u,{className:"mr-1 h-4 w-4 text-gray-400"}),s.email||"Not provided"]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-32 text-sm font-medium text-gray-500",children:"Phone:"}),e.jsxs("div",{className:"text-sm text-gray-900 flex items-center",children:[e.jsx(y,{className:"mr-1 h-4 w-4 text-gray-400"}),s.phone||"Not provided"]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-32 text-sm font-medium text-gray-500",children:"Address:"}),e.jsxs("div",{className:"text-sm text-gray-900 flex items-center",children:[e.jsx(A,{className:"mr-1 h-4 w-4 text-gray-400"}),s.address||"Not provided"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(N,{className:"mr-2 h-5 w-5",style:{color:a.primary.blue}}),"Academic Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-32 text-sm font-medium text-gray-500",children:"Class:"}),e.jsx("div",{className:"text-sm text-gray-900",children:((o=s.school_class)==null?void 0:o.name)||"Not assigned"})]}),((h=s.school_class)==null?void 0:h.form_teacher)&&e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-32 text-sm font-medium text-gray-500",children:"Form Teacher:"}),e.jsxs("div",{className:"text-sm text-gray-900 flex items-center",children:[e.jsx(S,{className:"mr-1 h-4 w-4 text-gray-400"}),s.school_class.form_teacher.name]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-32 text-sm font-medium text-gray-500",children:"Status:"}),e.jsx("div",{className:"text-sm",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.is_active?"Active":"Inactive"})})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(c,{className:"mr-2 h-5 w-5",style:{color:a.primary.red}}),"Subjects (",((f=s.student_subjects)==null?void 0:f.length)||0,")"]}),s.student_subjects&&s.student_subjects.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:s.student_subjects.map(g=>{var j;return e.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(c,{className:"h-5 w-5",style:{color:a.primary.blue}}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:((j=g.subject)==null?void 0:j.name)||"Unknown Subject"})]})},g.id)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(c,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"No subjects assigned"})]})]}),(s.parent_name||s.parent_phone||s.parent_email)&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(P,{className:"mr-2 h-5 w-5",style:{color:a.primary.blue}}),"Parent/Guardian Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.parent_name&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Name"}),e.jsx("div",{className:"text-sm text-gray-900 mt-1",children:s.parent_name})]}),s.parent_phone&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Phone"}),e.jsxs("div",{className:"text-sm text-gray-900 mt-1 flex items-center",children:[e.jsx(y,{className:"mr-1 h-4 w-4 text-gray-400"}),s.parent_phone]})]}),s.parent_email&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Email"}),e.jsxs("div",{className:"text-sm text-gray-900 mt-1 flex items-center",children:[e.jsx(u,{className:"mr-1 h-4 w-4 text-gray-400"}),s.parent_email]})]})]})]})]})})};export{H as default};
